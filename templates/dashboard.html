<html>

<head>
	<title>Welcome, {{user.firstName}}</title>
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css') }}?q={{ time }}" />

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<!-- Compiled and minified CSS -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
		integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

	<!-- Compiled and minified JavaScript -->
	<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
		integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous">
	</script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
		integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous">
	</script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
		integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous">
	</script>
    <style>
        .shtHeader {
            margin-bottom: 14px;
        }

        #sht {
            margin-bottom: 15px;
        }

        #sht td, th {
            padding: 7px;
        }

        #sht th {
            text-align: center;
        }

        #main {
            padding: 15px;
        }

        #main, #sht {
            font-size: 14pt;
        }

        @media (max-width: 1020px) {
            #main {
                width: 60%;
            }
        }

        @media (max-width: 630px) {
            #main {
                width: 90%;
            }
        }

        @media (max-width: 341px) {
            #main {
                width: 100%;
                border: 0;
            }
        }
    </style>
</head>

<body>
<!--Navbar -->
<nav class="mb-1 navbar navbar-expand-lg navbar-dark bg-primary">
  <a class="navbar-brand" href="#">TECK</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent-333"
    aria-controls="navbarSupportedContent-333" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarSupportedContent-333">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <a class="nav-link" href="/dashboard">Dashboard
          <span class="sr-only">(current)</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/update">Update Form</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/new_entry">New Entry</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/del">Delete Entry</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/request">Requests</a>
      </li>
      <!--
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink-333" data-toggle="dropdown"
          aria-haspopup="true" aria-expanded="false">Make Changes
        </a>
        <div class="dropdown-menu dropdown-default" aria-labelledby="navbarDropdownMenuLink-333">
          <a class="dropdown-item" href="/update">Update Form</a>
          <a class="dropdown-item" href="/new_entry">New Deposit/Withdrawal</a>
          <a class="dropdown-item" href="/del">Delete Transaction</a>
        </div>
      </li>
      -->
    </ul>
    <ul class="navbar-nav ml-auto nav-flex-icons">
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink-333" data-toggle="dropdown"
          aria-haspopup="true" aria-expanded="false">
          <i class="fas fa-user"></i>
        </a>
        <div class="dropdown-menu dropdown-menu-right dropdown-default"
          aria-labelledby="navbarDropdownMenuLink-333">
          <a class="dropdown-item" href="/preferences">My Preferences</a>
          <hr>
          <a class="dropdown-item" href="/logout">Logout</a>
        </div>
      </li>
    </ul>
  </div>
</nav>
<!--/.Navbar -->

<div id="main">
    <center>
        <p>{{message}}</p>
        
        <h2 class="shtHeader">Balance Sheet for {{user.firstName}}</h2>

        <table border="1" id="sht">
            <tr>
                <th>Deposits</th>
                <th>Withdrawals</th>
            </tr>

            {% if user.deposits|length > user.withdrawls|length %}
            {% for deposit in user.deposits %}
            <tr>
                <td>{{ deposit }}: {{ formatMoney(user.deposits[deposit]) }}</td>
                {% if loop.index0 < user.withdrawls|length %}
                <td>{{ (user.withdrawls.keys()|list)[loop.index0] }}: {{ formatMoney((user.withdrawls.values()|list)[loop.index0]) }}
                </td>
                {% else %}
                <td></td>
                {% endif %}
            </tr>
            {% endfor %}
            {% else %}
            {% for withdrawl in user.withdrawls %}
            <tr>
                {% if loop.index0 < user.deposits|length %}
                <td>{{(user.deposits.keys()|list)[loop.index0]}}: {{ formatMoney((user.deposits.values()|list)[loop.index0]) }}</td>
                {% else %}
                <td></td>
                {% endif %}
                <td>{{withdrawl}}: {{ formatMoney(user.withdrawls[withdrawl]) }}</td>
            </tr>
            {% endfor %}
            {% endif %}
        </table>
    <p>Balance: {{balance}}</p>
    </center>	
</div>
</body>

</html>